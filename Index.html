<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Group Link Admin Panel</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background-color: #4285f4;
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 5px;
        }
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 25px;
            margin-bottom: 30px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        button {
            background-color: #4285f4;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #3367d6;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f2f2f2;
            font-weight: 600;
        }
        tr:hover {
            background-color: #f9f9f9;
        }
        .actions {
            display: flex;
            gap: 10px;
        }
        .edit-btn {
            background-color: #fbbc05;
        }
        .delete-btn {
            background-color: #ea4335;
        }
        .tab-container {
            display: flex;
            margin-bottom: 20px;
        }
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background-color: #e0e0e0;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }
        .tab.active {
            background-color: #4285f4;
            color: white;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .status-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }
        .status-active {
            background-color: #e6f4ea;
            color: #34a853;
        }
        .status-pending {
            background-color: #fef7e0;
            color: #fbbc05;
        }
        .status-inactive {
            background-color: #fce8e6;
            color: #ea4335;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Group Link Admin Panel</h1>
            <p>Manage your group links efficiently</p>
        </header>

        <div class="tab-container">
            <div class="tab active" onclick="switchTab('upload')">Upload Link</div>
            <div class="tab" onclick="switchTab('manage')">Manage Links</div>
            <div class="tab" onclick="switchTab('analytics')">Analytics</div>
        </div>

        <div id="upload-tab" class="tab-content active">
            <div class="card">
                <h2>Upload New Group Link</h2>
                <form id="link-form">
                    <div class="form-group">
                        <label for="link-name">Group Name</label>
                        <input type="text" id="link-name" required placeholder="Enter group name">
                    </div>
                    <div class="form-group">
                        <label for="link-url">Group URL</label>
                        <input type="url" id="link-url" required placeholder="https://example.com/group">
                    </div>
                    <div class="form-group">
                        <label for="link-type">Group Type</label>
                        <select id="link-type" required>
                            <option value="">Select type</option>
                            <option value="whatsapp">WhatsApp</option>
                            <option value="telegram">Telegram</option>
                            <option value="discord">Discord</option>
                            <option value="slack">Slack</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="link-description">Description</label>
                        <textarea id="link-description" rows="3" placeholder="Brief description of the group"></textarea>
                    </div>
                    <button type="submit">Upload Link</button>
                </form>
            </div>
        </div>

        <div id="manage-tab" class="tab-content">
            <div class="card">
                <h2>Manage Group Links</h2>
                <div class="form-group">
                    <input type="text" id="search-input" placeholder="Search groups...">
                </div>
                <table id="links-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>URL</th>
                            <th>Type</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Links will be populated here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <div id="analytics-tab" class="tab-content">
            <div class="card">
                <h2>Group Link Analytics</h2>
                <p>Coming soon - analytics dashboard will show click statistics and engagement metrics.</p>
            </div>
        </div>
    </div>

    <script>
        // Sample data - in a real app, this would come from a database
        let groupLinks = [
            {
                id: 1,
                name: "Tech Enthusiasts",
                url: "https://t.me/techenthusiasts",
                type: "telegram",
                description: "Discussion about latest tech trends",
                status: "active",
                createdAt: "2023-05-15"
            },
            {
                id: 2,
                name: "Web Developers",
                url: "https://chat.whatsapp.com/webdevs",
                type: "whatsapp",
                description: "Web development community",
                status: "active",
                createdAt: "2023-06-20"
            },
            {
                id: 3,
                name: "Design Community",
                url: "https://discord.gg/design",
                type: "discord",
                description: "UI/UX designers network",
                status: "pending",
                createdAt: "2023-07-10"
            }
        ];

        // DOM elements
        const linkForm = document.getElementById('link-form');
        const linksTable = document.getElementById('links-table').getElementsByTagName('tbody')[0];
        const searchInput = document.getElementById('search-input');

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderLinksTable();
            
            // Form submission
            linkForm.addEventListener('submit', function(e) {
                e.preventDefault();
                addNewLink();
            });
            
            // Search functionality
            searchInput.addEventListener('input', function() {
                renderLinksTable(this.value);
            });
        });

        // Switch between tabs
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Deactivate all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Activate selected tab
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            // Activate tab button
            event.currentTarget.classList.add('active');
        }

        // Add a new group link
        function addNewLink() {
            const name = document.getElementById('link-name').value;
            const url = document.getElementById('link-url').value;
            const type = document.getElementById('link-type').value;
            const description = document.getElementById('link-description').value;
            
            const newLink = {
                id: groupLinks.length + 1,
                name,
                url,
                type,
                description,
                status: "active",
                createdAt: new Date().toISOString().split('T')[0]
            };
            
            groupLinks.unshift(newLink);
            renderLinksTable();
            linkForm.reset();
            
            alert('Group link added successfully!');
            
            // In a real app, you would send this data to your backend
            // fetch('/api/links', {
            //     method: 'POST',
            //     headers: {
            //         'Content-Type': 'application/json',
            //     },
            //     body: JSON.stringify(newLink),
            // })
            // .then(response => response.json())
            // .then(data => {
            //     console.log('Success:', data);
            //     renderLinksTable();
            //     linkForm.reset();
            // })
            // .catch((error) => {
            //     console.error('Error:', error);
            // });
        }

        // Render the links table
        function renderLinksTable(searchTerm = '') {
            linksTable.innerHTML = '';
            
            const filteredLinks = searchTerm 
                ? groupLinks.filter(link => 
                    link.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    link.url.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    link.type.toLowerCase().includes(searchTerm.toLowerCase()))
                : groupLinks;
            
            if (filteredLinks.length === 0) {
                const row = linksTable.insertRow();
                const cell = row.insertCell();
                cell.colSpan = 5;
                cell.textContent = 'No group links found';
                cell.style.textAlign = 'center';
                return;
            }
            
            filteredLinks.forEach(link => {
                const row = linksTable.insertRow();
                
                // Name
                const nameCell = row.insertCell();
                nameCell.textContent = link.name;
                
                // URL
                const urlCell = row.insertCell();
                const urlLink = document.createElement('a');
                urlLink.href = link.url;
                urlLink.textContent = 'Join Group';
                urlLink.target = '_blank';
                urlCell.appendChild(urlLink);
                
                // Type
                const typeCell = row.insertCell();
                typeCell.textContent = link.type.charAt(0).toUpperCase() + link.type.slice(1);
                
                // Status
                const statusCell = row.insertCell();
                const statusBadge = document.createElement('span');
                statusBadge.className = `status-badge status-${link.status}`;
                statusBadge.textContent = link.status.charAt(0).toUpperCase() + link.status.slice(1);
                statusCell.appendChild(statusBadge);
                
                // Actions
                const actionsCell = row.insertCell();
                actionsCell.className = 'actions';
                
                const editBtn = document.createElement('button');
                editBtn.className = 'edit-btn';
                editBtn.textContent = 'Edit';
                editBtn.onclick = () => editLink(link.id);
                actionsCell.appendChild(editBtn);
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn';
                deleteBtn.textContent = 'Delete';
                deleteBtn.onclick = () => deleteLink(link.id);
                actionsCell.appendChild(deleteBtn);
            });
        }

        // Edit a link
        function editLink(id) {
            const link = groupLinks.find(link => link.id === id);
            if (!link) return;
            
            // In a real app, you would show a modal or form to edit the link
            // For this example, we'll just prompt for new values
            const newName = prompt('Enter new group name:', link.name);
            if (newName === null) return;
            
            const newUrl = prompt('Enter new group URL:', link.url);
            if (newUrl === null) return;
            
            const newStatus = prompt('Enter new status (active/pending/inactive):', link.status);
            if (newStatus === null) return;
            
            link.name = newName;
            link.url = newUrl;
            link.status = newStatus.toLowerCase();
            
            renderLinksTable();
            
            // In a real app, you would send an update to your backend
            // fetch(`/api/links/${id}`, {
            //     method: 'PUT',
            //     headers: {
            //         'Content-Type': 'application/json',
            //     },
            //     body: JSON.stringify(updatedLink),
            // })
            // .then(response => response.json())
            // .then(data => {
            //     console.log('Success:', data);
            //     renderLinksTable();
            // })
            // .catch((error) => {
            //     console.error('Error:', error);
            // });
        }

        // Delete a link
        function deleteLink(id) {
            if (!confirm('Are you sure you want to delete this group link?')) return;
            
            groupLinks = groupLinks.filter(link => link.id !== id);
            renderLinksTable();
            
            // In a real app, you would send a delete request to your backend
            // fetch(`/api/links/${id}`, {
            //     method: 'DELETE',
            // })
            // .then(response => response.json())
            // .then(data => {
            //     console.log('Success:', data);
            //     renderLinksTable();
            // })
            // .catch((error) => {
            //     console.error('Error:', error);
            // });
        }
    </script>
</body>
  </html>
